# Change Log

All notable changes to this project will be documented in this file.
This project adheres to [Semantic Versioning](http://semver.org/) starting from 1.x releases.

### Merged, but not yet released

> All recent changes are published

---

## Table of contents

#### 4.x Releases
- `4.0.x` Releases - [4.0.0](#400) | [4.0.1](#401) | [4.0.2](#402) | [4.0.3](#403) | [4.0.4](#404) | [4.0.5](#405) | [4.0.6](#406) | [4.0.7](#407) | [4.0.8](#408)  

#### 3.x Releases
- `3.0.x` Releases - [3.0.7](#307) | [3.0.8](#308) | [3.0.9](#309) | [3.0.10](#3010) | [3.0.11](#3011) | [3.0.12](#3012) | [3.0.13](#3013) | [3.0.14](#3014) | [3.0.15](#3015) | [3.0.16](#3016) | [3.0.17](#3017) | [3.0.18](#3018) | [3.0.19](#3019) | [3.0.20](#3020) | [3.0.21](#3021) | [3.0.22](#3022) | [3.0.23](#3023) | [3.0.24](#3024) | [3.0.25](#3025) | [3.0.26](#3026) | [3.0.27](#3027) | [3.0.28](#3028) | [3.0.29](#3029) | [3.0.30](#3030) | [3.0.31](#3031) | [3.0.32](#3032) | [3.0.33](#3033) | [3.0.34](#3034) | [3.0.35](#3035) | [3.0.36](#3036)

- `3.1.x` Releases - [3.1.0](#310) | [3.1.1](#311) | [3.1.2](#312) | [3.1.3](#313) | [3.1.4](#314) | [3.1.5](#315) | [3.1.6](#316) | [3.1.7](#317) | [3.1.8](#318) | [3.1.9](#319) | [3.1.10](#3110)

- `3.2.x` Releases - [3.2.0](#320)

#### 2.x Releases
- `2.0.x` Releases - [2.0.7](#207)

#### 1.x Releases
- `1.0.x` Releases - [1.0.7](#107)

#### 0.x Releases
- `0.15.x` Releases - [0.15.0](#0150) | [0.15.1](#0151) | [0.15.2](#0152) | [0.15.3](#0153) | [0.15.5](#0155)
- `0.14.x` Releases - [0.14.0](#0140) | [0.14.1](#0141) | [0.14.2](#0141) | [0.14.3](#0141) | [0.14.4](#0141) | [0.14.5](#0141)
- `0.13.x` Releases - [0.13.0](#0130) | [0.13.1](#0131)
- `0.12.x` Releases - [0.12.0](#0120)
- `0.11.x` Releases - [0.11.0](#0110)

---

### 3.2.0
Released: Sep 22, 2021
 * Added support to Xcode 13
 * Fix user token refresh policy
 
### 3.1.10
Released: Sep 27, 2021

 * Fix user token refresh policy
 * Force Light mode in UI

### 3.1.9
Released: Sep 09, 2021

  * Add new speciality - veterinary

### 3.1.8
Released: Sep 07, 2021

 * Update OpenTok to version 2.20.1
 * Fix Overview to not nullable
 * Fix multiline disconected professional text
 * Fix multiple tones on videocall
 * Fix clear background avatar on professional list

### 3.1.7
Released: Aug 09, 2021

  * Launch VC when calling push arrive
  * Bug fixed when an specialist has not a 5 days schedule with the same working hours every day


### 3.1.6
Released:  Jul 28, 2021

  * Added new specialities: doctroGoHealthAdvisor, fitnessCoaching, nutritionalCoaching
  * Fix issue on logout with Medical History active flag
  * Fix issue on VideoCallWaitingViewController buttons and status


## 3.1.5
Released: Jun 29, 2021

 * Added new method to allow userInfo to MediQuoDeeplinkOption conversion


## 3.1.4
Released: May 18, 2021

 * Update keychain get/set password to restore it when user unlock device for first time

## 3.1.3
Released: May 17, 2021

 * Update OpenTok to 2.19.1

## 3.1.2
Released: May 14, 2021

 * Apply full fixing to videocall workflow
 * Added support to Staging

## 3.1.1
Released: April 12, 2021

 * First update to JFrog

## 3.1.0
Released: March 8, 2021

 * Added support to Xcode 12.1

## 4.0.8
Released: February 2, 2021

 * Fix English strings
 * Update VideoCall and Prescription English strings
 * Update message when professional is disconnected
 * Added Medical History Options parameter
 * Added portuguese literals
 * Added flags to medical history
 * Added new specialty 'customerCareIsaludColectivos'
 * Update Dev certificate
 * Fix socket WatchDog behaviour
 * Fix conversation options in iPad
 * Added recipe footer
 * Removed Medical history watermark
 * Fix status bar colors
 * Update medical history icons
 * fix conversation options in iPad
 * update bundle from application 
 * fix action sheet on main thread
 * disable send messages when no connection
 * Fix default date today inside Medical History
 * Fix no connection message on placeholder
 * Fix label counter
 * Removed SwiftyMarkdown
 * Diseases cell image removed
 * Fix diseases date selection
 * Fix report cell textColor
 * Allow possibility to put custom literals on precall view
 * Allow possibility to put custom literals on recipe body/empty
 * Fix placeholder when paste more than 256 characters
 * Fix medical history banner height in iPhoneSE
 * Fix medical history - Referrals literal
 * Fix medical history - appearance of allergies / diseases / medications deleted from another device
 * Fix medical history labels to allow multiline
 * Fix medical history tableview footer
 * Fix videocall black screen
 * Fix images sended resolution
 * Fix chat input disappear bug


## 3.0.42
Released: March 30, 2021

 * Fix images sended resolution
 * Fix chat input disappear 

## 3.0.41
Released: March 29, 2021

* Fix videocall black screen

## 3.0.40
Released: March 10, 2021

* Fix medical history tableview footer

## 3.0.39
Released: March 09, 2021

 * Fix medical history - Referrals literal
 * Fix medical history - appearance of allergies / diseases / medications deleted from another device
 * Fix medical history labels to allow multiline

## 3.0.38
Released: March 05, 2021

* Fix medical history banner height in iPhoneSE

## 3.0.37
Released: March 03, 2021

* Fix placeholder when paste more than 256 characters

## 3.0.36
Released: March 01, 2021

 * Allow possibility to put custom literals on precall view
 * Allow possibility to put custom literals on recipe body/empty
 
## 3.0.35
Released: Feb 25, 2021

 * Diseases cell image removed
 * Fix diseases date selection
 * Fix report cell textColor
 
## 3.0.34
Released: Feb 23, 2021

 * Fix label counter
 * Remove SwiftyMarkdown

## 3.0.33
Released: Feb 22, 2021

 * Fix no connection message on placeholder

## 3.0.32
Released: Feb 18, 2021

 * Added NPS support
 * Added recipe footer
 * Removed Medical history watermark
 * Fix status bar colors
 * Update medical history icons
 * fix conversation options in iPad
 * update bundle from application 
 * fix action sheet on main thread
 * disable send messages when no connection
 * Fix default date today inside Medical History

## 4.0.8
Released: Feb 2, 2021

 * Fix English strings
 * Update VideoCall and Prescription English strings
 * Update message when professional is disconnected
 * Added Medical History Options parameter
 * Added portuguese literals
 * Added flags to medical history
 * Added new specialty 'customerCareIsaludColectivos'
 * Update Dev certificate
 * Fix socket WatchDog behaviour
 * Fix conversation options in iPad
 * Added recipe footer
 * Removed Medical history watermark
 * Fix status bar colors
 * Update medical history icons
 * fix conversation options in iPad
 * update bundle from application 
 * fix action sheet on main thread
 * disable send messages when no connection
 * Fix default date today inside Medical History
 * Fix no connection message on placeholder
 * Fix label counter
 * Removed SwiftyMarkdown
 * Diseases cell image removed
 * Fix diseases date selection
 * Fix report cell textColor
 * Allow possibility to put custom literals on precall view
 * Allow possibility to put custom literals on recipe body/empty

## 3.0.31
Released: Jan 15, 2021

 * Fix socket WatchDog behaviour
 * Fix conversation options in iPad
 
## 3.0.30
Released: Dec 28, 2020
 
 * Fix Portuguese strings

## 3.0.29
Released: Dec 18, 2020
 
* Update Dev certificate

## 3.0.28
Released: Dec 15, 2020

 * Added flags to medical history
 * Added new specialty 'customerCareIsaludColectivos'

## 3.0.27
Released: Nov 24, 2020 

 * Added portuguese literals

## 3.0.26
Released: Nov 11, 2020

 * Update Medical History Texts

## 3.0.25
Released: Oct 29, 2020

* Added Medical History Options parameter

## 3.0.24
Released: Oct 19, 2020

 * Update message when professional is disconnected

## 3.0.23
Released: Oct 15, 2020

 * Fix English strings

## 3.0.22
Released: Oct 15, 2020

 * Update VideoCall and Prescription English strings

## 4.0.7
Released: Sept 17, 2020

* Added firebase token cache, now integrator don't need to resend firebase token after sdk authentication
* Added new parameter video_call_1to1
* Added My Documents section in Medical history
* Added digital prescription

## 3.0.21
Released: Sept 16, 2020

* Added My Documents section in Medical history
* Added digital prescription

## 3.0.20
Released: Sept 4, 2020

* Added firebase token cache, now integrator don't need to resend firebase token after sdk authentication
* Added new parameter video_call_1to1

## 4.0.6
Released: Aug 17, 2020

* Added support to hide professional schedule in professional list

## 3.0.19
Released: Aug 17, 2020

* Added support to hide professional schedule in professional list

## 3.0.18
Released: Jul 16, 2020

* Added support to videocall 1to1

## 4.0.5
Released: Jul 16, 2020

* Fix force professional list refresh by notification
* Added support to videocall 1to1

## 3.0.17
Released: Jul 15, 2020

* Fix force professional list refresh by notification

## 4.0.4
Released: Jul 14 2020

* Added notification to force professional list to update
* Added emptyView property for professional list

## 3.0.16
Released: Jul 14, 2020

* Added notification to force professional list to update
* Added emptyView property for professional list

## 4.0.3
Released: Jul 7, 2020

* Added call to remove auth token from server

## 3.0.15
Released: Jul 7, 2020

* Added call to remove auth token from server

## 4.0.2
Released: Jun 19, 2020

* Added methods to encrypt sensitive data
* Remove cached request from backend

## 3.0.14
Released: Jun 18, 2020

* Added methods to encrypt sensitive data
* Remove cached request from backend

## 4.0.1
Released: May 15,2020

* Added isAuthenticated flag
* Added deregister Push Token when integrator calls logout function
* Added "user not loged" error when integrator tries to register the push notification

## 3.0.13
Released: May 15,2020

* Added isAuthenticated flag
* Added deregister Push Token when integrator calls logout function
* Added "user not loged" error when integrator tries to register the push notification

## 3.0.12
Released: May 5,2020

* Added block Videocall feature for forbidden users (when videocall is disabled for user)
* Fix UI present feature when sdk uses VideoCall flow (iOS 13 issue)

## 4.0.0
Released: May 5,2020

* Added Module stability support (support Xcode 11+)
* Added block Videocall feature for forbidden users (when videocall is disabled for user)
* Fix UI present feature when sdk uses VideoCall flow (iOS 13 issue)

## 3.0.11
Released 2020-04-05

* Added block Videocall feature for forbidden users (when videocall is disabled for user)
* Added Portuguese language

## 3.0.10
Released: Apr 2,2020

* Added basque language

### 3.0.9
Released: Mar 27, 2020

* Change VideoCall waiting screen text ("Danos unos instantes,\nahora verás en pantalla\nla llamada de tu médico...")

## 3.0.8
Released: Mar 20, 2020

* Fix inbox title
* Fix refresh control behaviour in inbox screen

## 3.0.7
Released: Mar 5, 2020

* Remove receiveFirstMessage, receive and receiveMessage from MediQuo class.(March 5, 2020)
* Update RxSwift to fix UIWebView issue

## 2.0.7
Released: Mar 5, 2020

* Remove receiveFirstMessage, receive and receiveMessage from MediQuo class.
* Update RxSwift to fix UIWebView issue

## 1.0.7
Released: Mar 5, 2020

* Remove receiveFirstMessage, receive and receiveMessage from MediQuo class
* Update RxSwift to fix UIWebView issue

## 0.15.5
Released: Jan 24, 2018

- `MediQuoRole.sexology` speciality.

#### Updated
- Realm pod version 3.1.0. 
- RxSwift pod version 4.1.1. 
- Socket.IO pod version 13.1.1. 
- MessageKit pod version 0.13.0. 

#### Fixed
- Privacy permissions appearing before using any camera resource. Permissions are now asked for when user clicks on message attachment button and redirects to Settings if the user previously removed authorization.
- Filtered contact list profile by speciality instead of application role. Fixed list of filters has replaced old `MediQuoRole` option set.

---

## 0.15.3
Released: Jan 18, 2018

#### Fixed
- Avatar view size in messages view controller navigation bar.

---

## 0.15.2
Released: Jan 18, 2018

- `navigationBarBackIndicatorImage` style property overrides default image for navigation bar back button.

#### Improved
- Extend navigation bar style configuration settings to be used with filtered contact list presentation.

#### Fixed
- Back button was not appearing with filtered contact list presentation style. A default back button will appear now unless a custom one is configured in presentation styles.

---

## 0.15.1
Released: Jan 17, 2018

#### Fixed
- Interface layout modification to show view controllers under opaque bars.

---

## 0.15.0
Released: Jan 15, 2018

- Contact profile layout and properties.
- Call to update user information.
- Navigation to the contact profile from the messages.
- Exposing mediQuo role option set required to configure filtered view.
- Added limitation to query results using realm lazy load.
- Implemented a sample example for filtered view.
- Expose inbox content size listener.

#### Improved
- Checking the message status event to emit contacts request every time update event is received.

#### Fixed
- Correctly managing disabled contacts on holiday and with last timestamp message to zero.
- Pinning public keys instead of full byte to byte comparison.

---

## 0.14.5
Released: Jan 4, 2018

#### Changed
- Changed socket queue from concurrent to serial.

---

## 0.14.4
Released: Jan 3, 2018

#### Changed
- Updated the pods of the framework.

---

## 0.14.3
Released: Dec 29, 2017

#### Changed
- The messenger view controller is now instantiated using the storyboard.

---

## 0.14.2
Released: Dec 29, 2017

#### Fixed
- Concurrency problem with socket.io events.

---

## 0.14.1
Released: Dec 22, 2017

#### Fixed
- Absence of divider behaviour should allow users to start conversations with any professional.

---

## 0.14.0
Released: Dec 20, 2017

- Link detector types for links in users conversations.
- Tap file message event to download content.

#### Updated
- MessageKit pod version 0.12.0. 

---

## 0.13.1
Released: Dec 19, 2017

#### Fixed
- Connection problem while authentication and shutdown in the same session. Connection dispatchers were not attaching correctly due to incorrect call order that could be by-passed by calling again `initialize` method. 

---

## 0.13.0
Released: Dec 18, 2017

- `shutdown` method dettaches user connections and wipes out stored user information.

#### Fixed
- Professional list order to match Android implementation. 

---

## 0.12.0
Released: Dec 11, 2017

- `preferredStatusBarStyle` exposes default `UIStatusBarStyle` used in framework controllers.
- `MediQuoDividerType` protocol enables interaction with inbox contact list items by allowing to include a custom view and react to user item selections.
- Generic `MediQuoDivider` builder to configure an inbox list divider view group.

#### Improved
- All internal database notification operations work now in a subscribed run loop thread that allows to improve performance.

#### Fixed
- Reversed inbox contact list order due to a problem with sort order of contacts with previous interactions.
- Localized date patterns for date/time messages.

---

## 0.11.0
Released: Dec 3, 2017

- Expose inbox contact list professional schedule.
- Full database encryption (per device installation keychain key) for release distributions.
- Sorted inbox contact list by marketing criterias.
- Expose bubble and text color to style conversation messages.
- Localized day/month message header for conversation messages.

#### Fixed
- Send correct device model name in installation.
